{% extends "Polls/base.html" %}
{% load static %}

{% block content %}
<style>
  .card {
  width: 23rem;
  margin-top: 30px;
  border: 2px solid #8d7caf;
  background-color: white;
  border-radius: 10px;
  overflow: hidden;
  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.05); 
  }

  .no-results-message {
  border: 1px solid #8d7caf;
  padding: 10px 20px;
  border-radius: 10px;
  background-color: #f9f9f9;
  color: #8d7caf;
  font-size: 1.25rem;
  text-align: center;
  box-shadow: 0 2px 6px rgba(0, 0, 0, 0.1);
  max-width: 600px;
  margin: 10px auto 0;
  }
</style>

    <div class="row">

      <!-- Основной контент -->
      <div class="row col-12">
        <div class="content">
          <div class="row mb-3">
            <label class="fs-2 fw-bold text-center qq">
              {% if query %}
                Результаты поиска по запросу: "{{ query }}"
              {% else %}
                Поисковый запрос не задан
              {% endif %}
            </label>
          </div>

          {% if not products %}
            <div class="no-results-message mt-2">
              Ничего не найдено по вашему запросу.
            </div>
          {% endif %}

          {% if products %}
            <div class="row row-cols-3 g-0">
              {% for product in products %}
                <div class="col">
                  <div class="card h-100">
                    <a href="{% url 'post-detail' product.id %}" class="text-decoration-none">
                      <img src="{{ product.photo.url }}" class="card-img-top" alt="{{ product.title }}" style="height: 220px; object-fit: contain;">
                      <div class="card-body text-center p-3">
                        <h5 class="card-title text-purple mb-2" style="font-size: 1.1rem;">{{ product.title }}</h5>
                        <p class="fw-bold mm text-purple mb-0" style="font-size: 1rem;">{{ product.price }} руб.</p>
                      </div>
                    </a>
                  </div>
                </div>
              {% endfor %}
            </div>
          {% endif %}
        </div>
      </div>
    </div>
    {% endblock %}
  </div>  